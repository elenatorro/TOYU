var ready=function(){console.log("jscolor loaded");var e={dir:"",bindClass:"color",binding:!0,preloading:!0,install:function(){e.addEvent(window,"load",e.init)},init:function(){e.binding&&e.bind(),e.preloading&&e.preload()},getDir:function(){if(!e.dir){var t=e.detectDir();e.dir=t!==!1?t:"jscolor/"}return e.dir},detectDir:function(){for(var t=location.href,o=document.getElementsByTagName("base"),r=0;r<o.length;r+=1)o[r].href&&(t=o[r].href);for(var o=document.getElementsByTagName("script"),r=0;r<o.length;r+=1)if(o[r].src&&/(^|\/)jscolor\.js([?#].*)?$/i.test(o[r].src)){var n=new e.URI(o[r].src),s=n.toAbsolute(t);return s.path=s.path.replace(/[^\/]+$/,""),s.query=null,s.fragment=null,s.toString()}return!1},bind:function(){for(var t=new RegExp("(^|\\s)("+e.bindClass+")(\\s*(\\{[^}]*\\})|\\s|$)","i"),o=document.getElementsByTagName("input"),r=0;r<o.length;r+=1){var n;if(!o[r].color&&o[r].className&&(n=o[r].className.match(t))){var s={};if(n[4])try{s=new Function("return ("+n[4]+")")()}catch(i){}o[r].color=new e.color(o[r],s)}}},preload:function(){for(var t in e.imgRequire)e.imgRequire.hasOwnProperty(t)&&e.loadImage(t)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(t){e.imgRequire[t]=!0},loadImage:function(t){e.imgLoaded[t]||(e.imgLoaded[t]=new Image,e.imgLoaded[t].src=e.getDir()+t)},fetchElement:function(e){return"string"==typeof e?document.getElementById(e):e},addEvent:function(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,o)},fireEvent:function(e,t){if(e)if(document.createEvent){var o=document.createEvent("HTMLEvents");o.initEvent(t,!0,!0),e.dispatchEvent(o)}else if(document.createEventObject){var o=document.createEventObject();e.fireEvent("on"+t,o)}else e["on"+t]&&e["on"+t]()},getElementPos:function(e){var t=e,o=e,r=0,n=0;if(t.offsetParent)do r+=t.offsetLeft,n+=t.offsetTop;while(t=t.offsetParent);for(;(o=o.parentNode)&&"BODY"!==o.nodeName.toUpperCase();)r-=o.scrollLeft,n-=o.scrollTop;return[r,n]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getRelMousePos:function(e){var t=0,o=0;return e||(e=window.event),"number"==typeof e.offsetX?(t=e.offsetX,o=e.offsetY):"number"==typeof e.layerX&&(t=e.layerX,o=e.layerY),{x:t,y:o}},getViewPos:function(){return"number"==typeof window.pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return"number"==typeof window.innerWidth?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},URI:function(t){function o(e){for(var t="";e;)if("../"===e.substr(0,3)||"./"===e.substr(0,2))e=e.replace(/^\.+/,"").substr(1);else if("/./"===e.substr(0,3)||"/."===e)e="/"+e.substr(3);else if("/../"===e.substr(0,4)||"/.."===e)e="/"+e.substr(4),t=t.replace(/\/?[^\/]*$/,"");else if("."===e||".."===e)e="";else{var o=e.match(/^\/?[^\/]*/)[0];e=e.substr(o.length),t+=o}return t}this.scheme=null,this.authority=null,this.path="",this.query=null,this.fragment=null,this.parse=function(e){var t=e.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\/\/)([^\/?#]*))?([^?#]*)((\?)([^#]*))?((#)(.*))?/);return this.scheme=t[3]?t[2]:null,this.authority=t[5]?t[6]:null,this.path=t[7],this.query=t[9]?t[10]:null,this.fragment=t[12]?t[13]:null,this},this.toString=function(){var e="";return null!==this.scheme&&(e=e+this.scheme+":"),null!==this.authority&&(e=e+"//"+this.authority),null!==this.path&&(e+=this.path),null!==this.query&&(e=e+"?"+this.query),null!==this.fragment&&(e=e+"#"+this.fragment),e},this.toAbsolute=function(t){var t=new e.URI(t),r=this,n=new e.URI;return null===t.scheme?!1:(null!==r.scheme&&r.scheme.toLowerCase()===t.scheme.toLowerCase()&&(r.scheme=null),null!==r.scheme?(n.scheme=r.scheme,n.authority=r.authority,n.path=o(r.path),n.query=r.query):(null!==r.authority?(n.authority=r.authority,n.path=o(r.path),n.query=r.query):(""===r.path?(n.path=t.path,n.query=null!==r.query?r.query:t.query):("/"===r.path.substr(0,1)?n.path=o(r.path):(n.path=null!==t.authority&&""===t.path?"/"+r.path:t.path.replace(/[^\/]+$/,"")+r.path,n.path=o(n.path)),n.query=r.query),n.authority=t.authority),n.scheme=t.scheme),n.fragment=r.fragment,n)},t&&this.parse(t)},color:function(t,o){function r(e,t,o){var r=Math.min(Math.min(e,t),o),n=Math.max(Math.max(e,t),o),s=n-r;if(0===s)return[null,0,n];var i=e===r?3+(o-t)/s:t===r?5+(e-o)/s:1+(t-e)/s;return[6===i?0:i,s/n,n]}function n(e,t,o){if(null===e)return[o,o,o];var r=Math.floor(e),n=r%2?e-r:1-(e-r),s=o*(1-t),i=o*(1-t*n);switch(r){case 6:case 0:return[o,i,s];case 1:return[i,o,s];case 2:return[s,o,i];case 3:return[s,i,o];case 4:return[i,s,o];case 5:return[o,s,i]}}function s(){delete e.picker.owner,document.getElementsByTagName("body")[0].removeChild(e.picker.boxB)}function i(o,r){function n(){var e=b.pickerInsetColor.split(/\s+/),t=e.length<2?e[0]:e[1]+" "+e[0]+" "+e[0]+" "+e[1];d.btn.style.borderColor=t}if(!e.picker){e.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(b.pickerCloseText)};for(var s=0,i=4;s<e.images.sld[1];s+=i){var h=document.createElement("div");h.style.height=i+"px",h.style.fontSize="1px",h.style.lineHeight="0",e.picker.sld.appendChild(h)}e.picker.sldB.appendChild(e.picker.sld),e.picker.box.appendChild(e.picker.sldB),e.picker.box.appendChild(e.picker.sldM),e.picker.padB.appendChild(e.picker.pad),e.picker.box.appendChild(e.picker.padB),e.picker.box.appendChild(e.picker.padM),e.picker.btnS.appendChild(e.picker.btnT),e.picker.btn.appendChild(e.picker.btnS),e.picker.box.appendChild(e.picker.btn),e.picker.boxB.appendChild(e.picker.box)}var d=e.picker;if(d.box.onmouseup=d.box.onmouseout=function(){t.focus()},d.box.onmousedown=function(){k=!0},d.box.onmousemove=function(e){(w||M)&&(w&&p(e),M&&m(e),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),g())},"ontouchstart"in window){var u=function(e){var t={offsetX:e.touches[0].pageX-C.X,offsetY:e.touches[0].pageY-C.Y};(w||M)&&(w&&p(t),M&&m(t),g()),e.stopPropagation(),e.preventDefault()};d.box.removeEventListener("touchmove",u,!1),d.box.addEventListener("touchmove",u,!1)}d.padM.onmouseup=d.padM.onmouseout=function(){w&&(w=!1,e.fireEvent(v,"change"))},d.padM.onmousedown=function(e){switch(y){case 0:0===b.hsv[2]&&b.fromHSV(null,null,1);break;case 1:0===b.hsv[1]&&b.fromHSV(null,1,null)}M=!1,w=!0,p(e),g()},"ontouchstart"in window&&d.padM.addEventListener("touchstart",function(e){C={X:e.target.offsetParent.offsetLeft,Y:e.target.offsetParent.offsetTop},this.onmousedown({offsetX:e.touches[0].pageX-C.X,offsetY:e.touches[0].pageY-C.Y})}),d.sldM.onmouseup=d.sldM.onmouseout=function(){M&&(M=!1,e.fireEvent(v,"change"))},d.sldM.onmousedown=function(e){w=!1,M=!0,m(e),g()},"ontouchstart"in window&&d.sldM.addEventListener("touchstart",function(e){C={X:e.target.offsetParent.offsetLeft,Y:e.target.offsetParent.offsetTop},this.onmousedown({offsetX:e.touches[0].pageX-C.X,offsetY:e.touches[0].pageY-C.Y})});var f=a(b);d.box.style.width=f[0]+"px",d.box.style.height=f[1]+"px",d.boxB.style.position="absolute",d.boxB.style.clear="both",d.boxB.style.left=o+"px",d.boxB.style.top=r+"px",d.boxB.style.zIndex=b.pickerZIndex,d.boxB.style.border=b.pickerBorder+"px solid",d.boxB.style.borderColor=b.pickerBorderColor,d.boxB.style.background=b.pickerFaceColor,d.pad.style.width=e.images.pad[0]+"px",d.pad.style.height=e.images.pad[1]+"px",d.padB.style.position="absolute",d.padB.style.left=b.pickerFace+"px",d.padB.style.top=b.pickerFace+"px",d.padB.style.border=b.pickerInset+"px solid",d.padB.style.borderColor=b.pickerInsetColor,d.padM.style.position="absolute",d.padM.style.left="0",d.padM.style.top="0",d.padM.style.width=b.pickerFace+2*b.pickerInset+e.images.pad[0]+e.images.arrow[0]+"px",d.padM.style.height=d.box.style.height,d.padM.style.cursor="crosshair",d.sld.style.overflow="hidden",d.sld.style.width=e.images.sld[0]+"px",d.sld.style.height=e.images.sld[1]+"px",d.sldB.style.display=b.slider?"block":"none",d.sldB.style.position="absolute",d.sldB.style.right=b.pickerFace+"px",d.sldB.style.top=b.pickerFace+"px",d.sldB.style.border=b.pickerInset+"px solid",d.sldB.style.borderColor=b.pickerInsetColor,d.sldM.style.display=b.slider?"block":"none",d.sldM.style.position="absolute",d.sldM.style.right="0",d.sldM.style.top="0",d.sldM.style.width=e.images.sld[0]+e.images.arrow[0]+b.pickerFace+2*b.pickerInset+"px",d.sldM.style.height=d.box.style.height;try{d.sldM.style.cursor="pointer"}catch(x){d.sldM.style.cursor="hand"}d.btn.style.display=b.pickerClosable?"block":"none",d.btn.style.position="absolute",d.btn.style.left=b.pickerFace+"px",d.btn.style.bottom=b.pickerFace+"px",d.btn.style.padding="0 15px",d.btn.style.height="18px",d.btn.style.border=b.pickerInset+"px solid",n(),d.btn.style.color=b.pickerButtonColor,d.btn.style.font="12px sans-serif",d.btn.style.textAlign="center";try{d.btn.style.cursor="pointer"}catch(x){d.btn.style.cursor="hand"}switch(d.btn.onmousedown=function(){b.hidePicker()},d.btnS.style.lineHeight=d.btn.style.height,y){case 0:var E="hs.png";break;case 1:var E="hv.png"}d.padM.style.backgroundImage="url('"+e.getDir()+"cross.gif')",d.padM.style.backgroundRepeat="no-repeat",d.sldM.style.backgroundImage="url('"+e.getDir()+"arrow.gif')",d.sldM.style.backgroundRepeat="no-repeat",d.pad.style.backgroundImage="url('"+e.getDir()+E+"')",d.pad.style.backgroundRepeat="no-repeat",d.pad.style.backgroundPosition="0 0",l(),c(),e.picker.owner=b,document.getElementsByTagName("body")[0].appendChild(d.boxB)}function a(t){var o=[2*t.pickerInset+2*t.pickerFace+e.images.pad[0]+(t.slider?2*t.pickerInset+2*e.images.arrow[0]+e.images.sld[0]:0),t.pickerClosable?4*t.pickerInset+3*t.pickerFace+e.images.pad[1]+t.pickerButtonHeight:2*t.pickerInset+2*t.pickerFace+e.images.pad[1]];return o}function l(){switch(y){case 0:var t=1;break;case 1:var t=2}var o=Math.round(b.hsv[0]/6*(e.images.pad[0]-1)),r=Math.round((1-b.hsv[t])*(e.images.pad[1]-1));e.picker.padM.style.backgroundPosition=b.pickerFace+b.pickerInset+o-Math.floor(e.images.cross[0]/2)+"px "+(b.pickerFace+b.pickerInset+r-Math.floor(e.images.cross[1]/2))+"px";var s=e.picker.sld.childNodes;switch(y){case 0:for(var i=n(b.hsv[0],b.hsv[1],1),a=0;a<s.length;a+=1)s[a].style.backgroundColor="rgb("+i[0]*(1-a/s.length)*100+"%,"+i[1]*(1-a/s.length)*100+"%,"+i[2]*(1-a/s.length)*100+"%)";break;case 1:var i,l,c=[b.hsv[2],0,0],a=Math.floor(b.hsv[0]),h=a%2?b.hsv[0]-a:1-(b.hsv[0]-a);switch(a){case 6:case 0:i=[0,1,2];break;case 1:i=[1,0,2];break;case 2:i=[2,0,1];break;case 3:i=[2,1,0];break;case 4:i=[1,2,0];break;case 5:i=[0,2,1]}for(var a=0;a<s.length;a+=1)l=1-1/(s.length-1)*a,c[1]=c[0]*(1-l*h),c[2]=c[0]*(1-l),s[a].style.backgroundColor="rgb("+100*c[i[0]]+"%,"+100*c[i[1]]+"%,"+100*c[i[2]]+"%)"}}function c(){switch(y){case 0:var t=2;break;case 1:var t=1}var o=Math.round((1-b.hsv[t])*(e.images.sld[1]-1));e.picker.sldM.style.backgroundPosition="0 "+(b.pickerFace+b.pickerInset+o-Math.floor(e.images.arrow[1]/2))+"px"}function h(){return e.picker&&e.picker.owner===b}function d(){v===t&&b.importColor(),b.pickerOnfocus&&b.hidePicker()}function u(){v!==t&&b.importColor()}function p(t){var o=e.getRelMousePos(t),r=o.x-b.pickerFace-b.pickerInset,n=o.y-b.pickerFace-b.pickerInset;switch(y){case 0:b.fromHSV(r*(6/(e.images.pad[0]-1)),1-n/(e.images.pad[1]-1),null,B);break;case 1:b.fromHSV(r*(6/(e.images.pad[0]-1)),null,1-n/(e.images.pad[1]-1),B)}}function m(t){var o=e.getRelMousePos(t),r=o.y-b.pickerFace-b.pickerInset;switch(y){case 0:b.fromHSV(null,null,1-r/(e.images.sld[1]-1),S);break;case 1:b.fromHSV(null,1-r/(e.images.sld[1]-1),null,S)}}function g(){if(b.onImmediateChange){var e;e="string"==typeof b.onImmediateChange?new Function(b.onImmediateChange):b.onImmediateChange,e.call(b)}}this.required=!0,this.adjust=!0,this.hash=!1,this.caps=!0,this.slider=!0,this.valueElement=t,this.styleElement=t,this.onImmediateChange=null,this.hsv=[0,0,1],this.rgb=[1,1,1],this.minH=0,this.maxH=6,this.minS=0,this.maxS=1,this.minV=0,this.maxV=1,this.pickerOnfocus=!0,this.pickerMode="HSV",this.pickerPosition="bottom",this.pickerSmartPosition=!0,this.pickerButtonHeight=20,this.pickerClosable=!1,this.pickerCloseText="Close",this.pickerButtonColor="ButtonText",this.pickerFace=10,this.pickerFaceColor="ThreeDFace",this.pickerBorder=1,this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight",this.pickerInset=1,this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow",this.pickerZIndex=1e4;for(var f in o)o.hasOwnProperty(f)&&(this[f]=o[f]);this.hidePicker=function(){h()&&s()},this.showPicker=function(){if(!h()){var o,r,n,s=e.getElementPos(t),l=e.getElementSize(t),c=e.getViewPos(),d=e.getViewSize(),u=a(this);switch(this.pickerPosition.toLowerCase()){case"left":o=1,r=0,n=-1;break;case"right":o=1,r=0,n=1;break;case"top":o=0,r=1,n=-1;break;default:o=0,r=1,n=1}var p=(l[r]+u[r])/2;if(this.pickerSmartPosition)var m=[-c[o]+s[o]+u[o]>d[o]&&-c[o]+s[o]+l[o]/2>d[o]/2&&s[o]+l[o]-u[o]>=0?s[o]+l[o]-u[o]:s[o],-c[r]+s[r]+l[r]+u[r]-p+p*n>d[r]?-c[r]+s[r]+l[r]/2>d[r]/2&&s[r]+l[r]-p-p*n>=0?s[r]+l[r]-p-p*n:s[r]+l[r]-p+p*n:s[r]+l[r]-p+p*n>=0?s[r]+l[r]-p+p*n:s[r]+l[r]-p-p*n];else var m=[s[o],s[r]+l[r]-p+p*n];i(m[o],m[r])}},this.importColor=function(){v?this.adjust?!this.required&&/^\s*$/.test(v.value)?(v.value="",x.style.backgroundImage=x.jscStyle.backgroundImage,x.style.backgroundColor=x.jscStyle.backgroundColor,x.style.color=x.jscStyle.color,this.exportColor(E|I)):this.fromString(v.value)||this.exportColor():this.fromString(v.value,E)||(x.style.backgroundImage=x.jscStyle.backgroundImage,x.style.backgroundColor=x.jscStyle.backgroundColor,x.style.color=x.jscStyle.color,this.exportColor(E|I)):this.exportColor()},this.exportColor=function(e){if(!(e&E)&&v){var t=this.toString();this.caps&&(t=t.toUpperCase()),this.hash&&(t="#"+t),v.value=t}e&I||!x||(x.style.backgroundImage="none",x.style.backgroundColor="#"+this.toString(),x.style.color=.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]<.5?"#FFF":"#000"),e&S||!h()||l(),e&B||!h()||c()},this.fromHSV=function(e,t,o,r){null!==e&&(e=Math.max(0,this.minH,Math.min(6,this.maxH,e))),null!==t&&(t=Math.max(0,this.minS,Math.min(1,this.maxS,t))),null!==o&&(o=Math.max(0,this.minV,Math.min(1,this.maxV,o))),this.rgb=n(null===e?this.hsv[0]:this.hsv[0]=e,null===t?this.hsv[1]:this.hsv[1]=t,null===o?this.hsv[2]:this.hsv[2]=o),this.exportColor(r)},this.fromRGB=function(e,t,o,s){null!==e&&(e=Math.max(0,Math.min(1,e))),null!==t&&(t=Math.max(0,Math.min(1,t))),null!==o&&(o=Math.max(0,Math.min(1,o)));var i=r(null===e?this.rgb[0]:e,null===t?this.rgb[1]:t,null===o?this.rgb[2]:o);null!==i[0]&&(this.hsv[0]=Math.max(0,this.minH,Math.min(6,this.maxH,i[0]))),0!==i[2]&&(this.hsv[1]=null===i[1]?null:Math.max(0,this.minS,Math.min(1,this.maxS,i[1]))),this.hsv[2]=null===i[2]?null:Math.max(0,this.minV,Math.min(1,this.maxV,i[2]));var a=n(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=a[0],this.rgb[1]=a[1],this.rgb[2]=a[2],this.exportColor(s)},this.fromString=function(e,t){var o=e.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);return o?(6===o[1].length?this.fromRGB(parseInt(o[1].substr(0,2),16)/255,parseInt(o[1].substr(2,2),16)/255,parseInt(o[1].substr(4,2),16)/255,t):this.fromRGB(parseInt(o[1].charAt(0)+o[1].charAt(0),16)/255,parseInt(o[1].charAt(1)+o[1].charAt(1),16)/255,parseInt(o[1].charAt(2)+o[1].charAt(2),16)/255,t),!0):!1},this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};var b=this,y="hvs"===this.pickerMode.toLowerCase()?1:0,k=!1,v=e.fetchElement(this.valueElement),x=e.fetchElement(this.styleElement),w=!1,M=!1,C={},E=1,I=2,S=4,B=8;if(e.addEvent(t,"focus",function(){b.pickerOnfocus&&b.showPicker()}),e.addEvent(t,"blur",function(){k?k=!1:window.setTimeout(function(){k||d(),k=!1},0)}),v){var T=function(){b.fromString(v.value,E),g()};e.addEvent(v,"keyup",T),e.addEvent(v,"input",T),e.addEvent(v,"blur",u),v.setAttribute("autocomplete","off")}switch(x&&(x.jscStyle={backgroundImage:x.style.backgroundImage,backgroundColor:x.style.backgroundColor,color:x.style.color}),y){case 0:e.requireImage("hs.png");break;case 1:e.requireImage("hv.png")}e.requireImage("cross.gif"),e.requireImage("arrow.gif"),this.importColor()}};e.install(),console.log(document.getElementById("color-picker"))};$(document).ready(ready),$(document).on("page:load",ready);